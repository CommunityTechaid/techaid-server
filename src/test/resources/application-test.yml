# Test-specific configuration
spring:
  datasource:
    # Embedded database will be auto-configured by @AutoConfigureEmbeddedDatabase
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: create-drop  # Recreate schema for each test
    show-sql: false          # Set to true for debugging
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: false

  flyway:
    enabled: false  # Disable Flyway for tests, use JPA schema generation

  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: https://test.auth0.com/

# Disable email sending in tests
gmail:
  enabled: false
  client-id: test-client-id
  client-secret: test-client-secret
  refresh-token: test-refresh-token
  address: test@example.com
  bcc-address: bcc@example.com

# Disable Google Places API in tests
google:
  places:
    key: test-key

# Test Auth0 configuration
auth0:
  audience: test-audience
  domain: test.auth0.com

# Test Typeform configuration
typeform:
  key: test-typeform-key

# Logging configuration for tests
logging:
  level:
    root: WARN
    cta: INFO
    org.springframework.graphql: INFO
    org.springframework.security: INFO
    org.hibernate.SQL: DEBUG  # Set to DEBUG to see SQL queries
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE  # See SQL parameters
